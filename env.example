# U2 Magic Catcher 环境变量配置示例
# 复制此文件为 .env 并修改相应的值

# ===================
# 基础配置
# ===================

# 认证方式（Cookie 是必需的，API Token 是可选的）
# 方式1: 使用 API Token（可选，用于获取魔法信息）
U2_API_TOKEN=your_api_token_here

# 方式2: Cookie（必需，用于获取种子下载链接）
# 格式1: 浏览器 Cookie 字符串格式（推荐）
U2_COOKIES=PHPSESSID=your_phpsessid; nexusphp_u2=your_nexusphp_u2_cookie
# 格式2: JSON 格式
# U2_COOKIES={"nexusphp_u2": "your_nexusphp_u2_cookie"}

# 检查间隔（秒）
U2_INTERVAL=120

# 用户 ID（使用 API 时需要）
U2_UID=50096

# 运行模式：false=长时间运行，true=定时任务模式
U2_RUN_CRONTAB=false

# ===================
# 内存和性能配置
# ===================

# 内存限制（MB）
U2_MEMORY_LIMIT_MB=512

# 内存检查间隔（秒）
U2_MEMORY_CHECK_INTERVAL=300

# 强制垃圾回收阈值（0-1之间）
U2_FORCE_GC_THRESHOLD=0.8

# ===================
# 下载策略配置
# ===================

# 是否下载非免费种子
U2_DOWNLOAD_NON_FREE=false

# 新旧种子分界线（天）
U2_MIN_DAY=7

# 是否下载旧种子
U2_DOWNLOAD_OLD=true

# 是否下载新种子
U2_DOWNLOAD_NEW=false

# 是否下载自己放的魔法
U2_MAGIC_SELF=false

# 免费魔法生效延迟（秒）
U2_EFFECTIVE_DELAY=60

# 是否下载无人做种的种子
U2_DOWNLOAD_DEAD_TO=false

# 是否允许重复下载
U2_RE_DOWNLOAD=true

# 是否检查 peer 列表
U2_CHECK_PEERLIST=false

# 是否启用搭桥机制
U2_DA_QIAO=true

# 重复下载最小间隔（天）
U2_MIN_RE_DL_DAYS=0

# ===================
# 过滤配置
# ===================

# 种子类型过滤（逗号分隔）
U2_CAT_FILTER=

# 大小过滤 [最小值GB, 最大值GB]（-1表示无限制）
U2_SIZE_FILTER=[0, -1]

# 名称过滤（逗号分隔，排除包含这些字符串的种子）
U2_NAME_FILTER=

# ===================
# autobrr_lb 配置
# ===================

# 是否使用 autobrr_lb
U2_USE_AUTOBRR_LB=true

# autobrr_lb 地址
U2_AUTOBRR_LB_URL=http://autobrr-lb:5000

# webhook 路径
U2_AUTOBRR_LB_PATH=/webhook/secure-a8f9c2e1-4b3d-9876-abcd-ef0123456789

# 种子分类
U2_AUTOBRR_LB_CATEGORY=U2-Magic

# 推送超时时间（秒）
U2_AUTOBRR_LB_TIMEOUT=10

# 推送失败时是否回退到本地下载
U2_FALLBACK_TO_LOCAL=true

# ===================
# 健康检查配置
# ===================

# 健康检查端口
U2_HEALTH_CHECK_PORT=8080

# 健康检查路径
U2_HEALTH_CHECK_PATH=/health

# ===================
# 网络配置
# ===================

# 请求超时时间（秒）
U2_REQUEST_TIMEOUT=20

# 代理配置（JSON 格式）
U2_PROXIES={}

# ===================
# 路径配置
# ===================

# 备份目录
U2_BK_DIR=/app/data/backup

# 监控目录
U2_WT_DIR=/app/data/watch

# 日志文件路径
U2_LOG_PATH=/app/logs/catch_magic.log

# 数据文件路径
U2_DATA_PATH=/app/data/catch_magic.data.txt
